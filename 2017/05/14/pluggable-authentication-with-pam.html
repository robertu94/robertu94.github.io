<!doctype html><html lang=en dir=auto>
<head><meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=robots content="index, follow">
<title>Pluggable Authentication With PAM | systems++</title>
<meta name=keywords content="security,programming">
<meta name=description content="Authentication and authorization is one of foundational aspects of any security system. However writing an authentication and authorization system can be anything but: There are complex, ever-changing requirements, not to mention differences for differing interfaces it can quickly become daunting. However, there already exists a system on Linux and Unix that allows for dynamic and complex authentication: PAM.
PAM Modules and Authentication Types Fundamentally, PAM is a collection of modules that provide several methods.">
<meta name=author content="Robert Underwood">
<link rel=canonical href=http://robertu94.github.io/2017/05/14/pluggable-authentication-with-pam.html>
<meta name=google-site-verification content="G-9KQE44SX6K">
<link crossorigin=anonymous href=/assets/css/stylesheet.bc1149f4a72aa4858d3a9f71462f75e5884ffe8073ea9d6d5761d5663d651e20.css integrity="sha256-vBFJ9KcqpIWNOp9xRi915YhP/oBz6p1tV2HVZj1lHiA=" rel="preload stylesheet" as=style>
<script defer crossorigin=anonymous src=/assets/js/highlight.baa4f2053c75d0009e9309aae8f8a8959f5e0372e88f80cdf2951a9533d71ce2.js integrity="sha256-uqTyBTx10ACekwmq6PiolZ9eA3Loj4DN8pUalTPXHOI=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=http://robertu94.github.io/favicon.ico>
<link rel=icon type=image/png sizes=16x16 href=http://robertu94.github.io/favicon-16x16.png>
<link rel=icon type=image/png sizes=32x32 href=http://robertu94.github.io/favicon-32x32.png>
<link rel=apple-touch-icon href=http://robertu94.github.io/apple-touch-icon.png>
<link rel=mask-icon href=http://robertu94.github.io/safari-pinned-tab.svg>
<meta name=theme-color content="#2e2e33">
<meta name=msapplication-TileColor content="#2e2e33">
<noscript>
<style>#theme-toggle,.top-link{display:none}</style>
<style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style>
</noscript>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9KQE44SX6K"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-9KQE44SX6K',{anonymize_ip:!1})}</script>
<meta property="og:title" content="Pluggable Authentication With PAM">
<meta property="og:description" content="Authentication and authorization is one of foundational aspects of any security system. However writing an authentication and authorization system can be anything but: There are complex, ever-changing requirements, not to mention differences for differing interfaces it can quickly become daunting. However, there already exists a system on Linux and Unix that allows for dynamic and complex authentication: PAM.
PAM Modules and Authentication Types Fundamentally, PAM is a collection of modules that provide several methods.">
<meta property="og:type" content="article">
<meta property="og:url" content="http://robertu94.github.io/2017/05/14/pluggable-authentication-with-pam.html"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2017-05-14T10:58:14-05:00">
<meta property="article:modified_time" content="2017-05-14T10:58:14-05:00"><meta property="og:site_name" content="Systems++">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="Pluggable Authentication With PAM">
<meta name=twitter:description content="Authentication and authorization is one of foundational aspects of any security system. However writing an authentication and authorization system can be anything but: There are complex, ever-changing requirements, not to mention differences for differing interfaces it can quickly become daunting. However, there already exists a system on Linux and Unix that allows for dynamic and complex authentication: PAM.
PAM Modules and Authentication Types Fundamentally, PAM is a collection of modules that provide several methods.">
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Pluggable Authentication With PAM","item":"http://robertu94.github.io/2017/05/14/pluggable-authentication-with-pam.html"}]}</script>
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Pluggable Authentication With PAM","name":"Pluggable Authentication With PAM","description":"Authentication and authorization is one of foundational aspects of any security system. However writing an authentication and authorization system can be anything but: There are complex, ever-changing requirements, not to mention differences for differing interfaces it can quickly become daunting. However, there already exists a system on Linux and Unix that allows for dynamic and complex authentication: PAM.\nPAM Modules and Authentication Types Fundamentally, PAM is a collection of modules that provide several methods.","keywords":["security","programming"],"articleBody":"Authentication and authorization is one of foundational aspects of any security system. However writing an authentication and authorization system can be anything but: There are complex, ever-changing requirements, not to mention differences for differing interfaces it can quickly become daunting. However, there already exists a system on Linux and Unix that allows for dynamic and complex authentication: PAM.\nPAM Modules and Authentication Types Fundamentally, PAM is a collection of modules that provide several methods. These methods provide: authentication (auth: pam_authenticate), account management (account pam_acct_mgmt), session management (session pam_open_session/ pam_close_session), and password/token management (password pam_chauthtok). For each service the administrator provides a “chain” of modules that will be used for each method. The admin can specify if a module is required (must succeed for the chain to succeed), sufficient (alone is enough to succeed), or optional (must be run but need not succeed).\nThere are already PAM authentication modules for a variety of services including:\n Traditional UNIX passwd Biometrics such as fingerprint readers Time based passwords such as Google Authenticator Enterprise authentication systems such as LDAP or Kerberos SQL/NoSQL databases  The session modules allow developers to preform actions when a users opens a session on their service. Some examples include:\n mount the users home directory check if the user has mail print a message of the day  Password modules allow the user to update their login credentials and are generally paired with an authentication module. Finally, account modules determine if a user is authorized to view specific information. Some existing modules include:\n Time of day restrictions location restrictions  Additionally developers can easily write their own modules if the needed modules do not yet exist.\nPAM with Different Services But the user must be thinking, what if my application involves multiple kinds of information with differing requirements. The command to start a PAM connection takes a service identifier as an argument. PAM uses this information to query the file system for a configuration file that specifies the chain to be used for this service. Additionally PAM provides a set of inheritance like facilities to allow applications to inherit login permissions from existing applications/configurations.\nWhat about non-terminal applications? You may be thinking that this sounds great, but doesn’t account for graphical or web applications. Well the PAM authors thought of that too. All communication with the user is done via a communication callback function. If you are using a graphical application, use a call back that presents message boxes (or similar) to the user. If you are using a web application, use a callback that returns a web form to the user. It is a surprisingly robust tool.\nHope this excites you to read more. Happy Programming!\n","wordCount":"444","inLanguage":"en","datePublished":"2017-05-14T10:58:14-05:00","dateModified":"2017-05-14T10:58:14-05:00","author":{"@type":"Person","name":"Robert Underwood"},"mainEntityOfPage":{"@type":"WebPage","@id":"http://robertu94.github.io/2017/05/14/pluggable-authentication-with-pam.html"},"publisher":{"@type":"Organization","name":"systems++","logo":{"@type":"ImageObject","url":"http://robertu94.github.io/favicon.ico"}}}</script>
</head>
<body id=top>
<script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script>
<header class=header>
<nav class=nav>
<div class=logo>
<a href=http://robertu94.github.io/ accesskey=h title="systems++ (Alt + H)">systems++</a>
<div class=logo-switches>
<button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
</button>
</div>
</div>
<ul id=menu>
<li>
<a href=http://robertu94.github.io/about.html title="About Me">
<span>About Me</span>
</a>
</li>
<li>
<a href=http://robertu94.github.io/guides.html title=Guides>
<span>Guides</span>
</a>
</li>
<li>
<a href=http://robertu94.github.io/learning.html title="Learning To Learn">
<span>Learning To Learn</span>
</a>
</li>
<li>
<a href=http://robertu94.github.io/presentations.html title=Presentations>
<span>Presentations</span>
</a>
</li>
</ul>
</nav>
</header>
<main class=main>
<article class=post-single>
<header class=post-header>
<div class=breadcrumbs><a href=http://robertu94.github.io/>Home</a></div>
<h1 class=post-title>
Pluggable Authentication With PAM
</h1>
<div class=post-meta><span title="2017-05-14 10:58:14 -0500 -0500">May 14, 2017</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;444 words&nbsp;·&nbsp;Robert Underwood
</div>
</header> <div class=toc>
<details>
<summary accesskey=c title="(Alt + C)">
<span class=details>Table of Contents</span>
</summary>
<div class=inner><nav id=TableOfContents>
<ul>
<li>
<ul>
<li><a href=#pam-modules-and-authentication-types>PAM Modules and Authentication Types</a></li>
<li><a href=#pam-with-different-services>PAM with Different Services</a></li>
<li><a href=#what-about-non-terminal-applications>What about non-terminal applications?</a></li>
</ul>
</li>
</ul>
</nav>
</div>
</details>
</div>
<div class=post-content><p>Authentication and authorization is one of foundational aspects of any security system.
However writing an authentication and authorization system can be anything but:
There are complex, ever-changing requirements, not to mention differences for differing interfaces it can quickly become daunting.
However, there already exists a system on Linux and Unix that allows for dynamic and complex authentication: PAM.</p>
<h2 id=pam-modules-and-authentication-types>PAM Modules and Authentication Types<a hidden class=anchor aria-hidden=true href=#pam-modules-and-authentication-types>#</a></h2>
<p>Fundamentally, PAM is a collection of modules that provide several methods.
These methods provide: authentication (auth: <code>pam_authenticate</code>), account management (account <code>pam_acct_mgmt</code>),
session management (session <code>pam_open_session</code>/ <code>pam_close_session</code>), and password/token management (password <code>pam_chauthtok</code>).
For each service the administrator provides a &ldquo;chain&rdquo; of modules that will be used for each method.
The admin can specify if a module is required (must succeed for the chain to succeed), sufficient (alone is enough to succeed), or optional (must be run but need not succeed).</p>
<p>There are already PAM authentication modules for a variety of services including:</p>
<ul>
<li>Traditional UNIX <code>passwd</code></li>
<li>Biometrics such as fingerprint readers</li>
<li>Time based passwords such as Google Authenticator</li>
<li>Enterprise authentication systems such as LDAP or Kerberos</li>
<li>SQL/NoSQL databases</li>
</ul>
<p>The session modules allow developers to preform actions when a users opens a session on their service.
Some examples include:</p>
<ul>
<li>mount the users home directory</li>
<li>check if the user has mail</li>
<li>print a message of the day</li>
</ul>
<p>Password modules allow the user to update their login credentials and are generally paired with an authentication module.
Finally, account modules determine if a user is authorized to view specific information.
Some existing modules include:</p>
<ul>
<li>Time of day restrictions</li>
<li>location restrictions</li>
</ul>
<p>Additionally developers can easily write their own modules if the needed modules do not yet exist.</p>
<h2 id=pam-with-different-services>PAM with Different Services<a hidden class=anchor aria-hidden=true href=#pam-with-different-services>#</a></h2>
<p>But the user must be thinking, what if my application involves multiple kinds of information with differing requirements.
The command to start a PAM connection takes a service identifier as an argument.
PAM uses this information to query the file system for a configuration file that specifies the chain to be used for this service.
Additionally PAM provides a set of inheritance like facilities to allow applications to inherit login permissions from existing applications/configurations.</p>
<h2 id=what-about-non-terminal-applications>What about non-terminal applications?<a hidden class=anchor aria-hidden=true href=#what-about-non-terminal-applications>#</a></h2>
<p>You may be thinking that this sounds great, but doesn&rsquo;t account for graphical or web applications.
Well the PAM authors thought of that too.
All communication with the user is done via a communication callback function.
If you are using a graphical application, use a call back that presents message boxes (or similar) to the user.
If you are using a web application, use a callback that returns a web form to the user.
It is a surprisingly robust tool.</p>
<p>Hope this excites you to read more. Happy Programming!</p>
</div>
<footer class=post-footer>
<ul class=post-tags>
<li><a href=http://robertu94.github.io/tags/security.html>security</a></li>
<li><a href=http://robertu94.github.io/tags/programming.html>Programming</a></li>
</ul>
<nav class=paginav>
<a class=prev href=http://robertu94.github.io/2017/05/23/qt-is-for-more-than-just-guis.html>
<span class=title>« Prev</span>
<br>
<span>Qt is for more than just GUIs</span>
</a>
<a class=next href=http://robertu94.github.io/2017/05/08/resource-acquisition-is-initialization-and-sdl.html>
<span class=title>Next »</span>
<br>
<span>Resource Acquisition is Initialization and SDL</span>
</a>
</nav>
</footer>
</article>
</main>
<footer class=footer>
<span>&copy; 2022 <a href=http://robertu94.github.io/>systems++</a></span>
<span>
Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a>
</span>
</footer>
<a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a>
<script>let menu=document.getElementById('menu');menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script>
<script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script>
<script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script>
</body>
</html>