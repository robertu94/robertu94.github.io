<!doctype html><html lang=en dir=auto>
<head><meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=robots content="index, follow">
<title>What to support if you are supporting | systems++</title>
<meta name=keywords content>
<meta name=description content="Dependencies matter a lot in terms of who can easily install and use your software. However there are trade-offs in what features are provided by each version and the availability of these versions. This presents an opinionated take on what these trade-offs are so one can know what can be widely supported.
Last update: 2023-09-12
Major Linux Distros    Distro Standard EoL     CentOS-7 compatible July 2024   CentOS-8 compatible December 2021*   CentOS-8 stream May 2024   CentOS-9 stream May 2027*   Ubuntu 16.">
<meta name=author content="Robert Underwood">
<link rel=canonical href=http://robertu94.github.io/guides/dependencies.html>
<meta name=google-site-verification content="G-9KQE44SX6K">
<link crossorigin=anonymous href=/assets/css/stylesheet.57f29198e62b3a8f07d37acaca0427bafb684416046b823f5a616bd858bb4af1.css integrity="sha256-V/KRmOYrOo8H03rKygQnuvtoRBYEa4I/WmFr2Fi7SvE=" rel="preload stylesheet" as=style>
<script defer crossorigin=anonymous src=/assets/js/highlight.baa4f2053c75d0009e9309aae8f8a8959f5e0372e88f80cdf2951a9533d71ce2.js integrity="sha256-uqTyBTx10ACekwmq6PiolZ9eA3Loj4DN8pUalTPXHOI=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=http://robertu94.github.io/favicon.ico>
<link rel=icon type=image/png sizes=16x16 href=http://robertu94.github.io/favicon-16x16.png>
<link rel=icon type=image/png sizes=32x32 href=http://robertu94.github.io/favicon-32x32.png>
<link rel=apple-touch-icon href=http://robertu94.github.io/apple-touch-icon.png>
<link rel=mask-icon href=http://robertu94.github.io/safari-pinned-tab.svg>
<meta name=theme-color content="#2e2e33">
<meta name=msapplication-TileColor content="#2e2e33">
<noscript>
<style>#theme-toggle,.top-link{display:none}</style>
<style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style>
</noscript>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9KQE44SX6K"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-9KQE44SX6K',{anonymize_ip:!1})}</script>
<meta property="og:title" content="What to support if you are supporting">
<meta property="og:description" content="Dependencies matter a lot in terms of who can easily install and use your software. However there are trade-offs in what features are provided by each version and the availability of these versions. This presents an opinionated take on what these trade-offs are so one can know what can be widely supported.
Last update: 2023-09-12
Major Linux Distros    Distro Standard EoL     CentOS-7 compatible July 2024   CentOS-8 compatible December 2021*   CentOS-8 stream May 2024   CentOS-9 stream May 2027*   Ubuntu 16.">
<meta property="og:type" content="article">
<meta property="og:url" content="http://robertu94.github.io/guides/dependencies.html"><meta property="article:section" content="guides">
<meta property="article:published_time" content="2023-09-12T00:00:00+00:00">
<meta property="article:modified_time" content="2023-09-12T00:00:00+00:00"><meta property="og:site_name" content="Systems++">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="What to support if you are supporting">
<meta name=twitter:description content="Dependencies matter a lot in terms of who can easily install and use your software. However there are trade-offs in what features are provided by each version and the availability of these versions. This presents an opinionated take on what these trade-offs are so one can know what can be widely supported.
Last update: 2023-09-12
Major Linux Distros    Distro Standard EoL     CentOS-7 compatible July 2024   CentOS-8 compatible December 2021*   CentOS-8 stream May 2024   CentOS-9 stream May 2027*   Ubuntu 16.">
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"What to support if you are supporting","item":"http://robertu94.github.io/guides/dependencies.html"}]}</script>
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"What to support if you are supporting","name":"What to support if you are supporting","description":"Dependencies matter a lot in terms of who can easily install and use your software. However there are trade-offs in what features are provided by each version and the availability of these versions. This presents an opinionated take on what these trade-offs are so one can know what can be widely supported.\nLast update: 2023-09-12\nMajor Linux Distros    Distro Standard EoL     CentOS-7 compatible July 2024   CentOS-8 compatible December 2021*   CentOS-8 stream May 2024   CentOS-9 stream May 2027*   Ubuntu 16.","keywords":[],"articleBody":"Dependencies matter a lot in terms of who can easily install and use your software. However there are trade-offs in what features are provided by each version and the availability of these versions. This presents an opinionated take on what these trade-offs are so one can know what can be widely supported.\nLast update: 2023-09-12\nMajor Linux Distros    Distro Standard EoL     CentOS-7 compatible July 2024   CentOS-8 compatible December 2021*   CentOS-8 stream May 2024   CentOS-9 stream May 2027*   Ubuntu 16.04 April 2021   Ubuntu 18.04 April 2023   Ubuntu 20.04 April 2025   Ubuntu 22.04 April 2027     Ubuntu LTS releases generally get 5 years of standard support Fedora releases generally get ~1 year of support * Third party vendors such as AlmaLinux support these for much longer 2029 for CentOS-8, and 2032 for CentOS-9.  Tooling Versions    Tool Ubuntu 18.04 Ubuntu 20.04 Ubuntu 22.04 CentOS 7 CentOS 8 CentOS 9 Stream Fedora     gcc 7.5.0 9.4.0 11.4.0 4.8.5 8.5.0 11.3 13   clang 6.0.0 10.0.0 14.0.0 3.4.2 15.0.0 16.0 16   cmake 3.10.2 3.16.3 3.22.1 3.17.5 3.20 3.20 3.27   python3 3.6.9 3.8.10 3.10.0 3.6.8 3.6-3.9 3.9,3.11 3.11   julia n/a 1.4.1# n/a n/a n/a n/a 1.9.2   cargo 1.65.0 1.66.1 1.66.1 1.72.0 1.66.1 1.61.1 1.72.0   swig 1.65.0 4.0 4.0 3.0.12 3.0.12 3.0.12 4.1.1   nvcc * 9.1 10.1 11.5.0 n/a* n/a * n/a * n/a *    # has known issues and upstream recommends avoiding using this version * CentOS, and Fedora do not package CUDA themselves, but instead rely on Nvidia to provide the package which provides the newest version.\nLanguage Features C++ For more information consult cppreference.com C++ is divided into language and library features. Generally Language features are implemented before library features. While Clang originally led for compliance, increassingly GCC is getting newer features sooner.\nC++14 Generally C++14 language features can be used safely on all but the oldest systems (e.g. CentOS7). With one minor exception, C++14 library features can be used on all but the oldest systems (e.g. CentOS7), but complete support requires a much newer version for GCC.\n   Compiler C++14 (language full) C++14 (language 90%) Missing C++14 (library full) C++14 (library 90%) Missing     GCC/libstdc++ 5 5 N/A 10 5 partial support for null forward iterators (N3644)   Clang/libc++ 3.4 3.4 N/A 3.4 3.4 N/A    C++17 Generally C++17 language features are supported on all but the oldest systems (e.g. CentOS7). C++17 library features require very new compilers to implement fully and are not widely available on LTS systems. The most common things to lag behind being parallel parallel algorithms, so-called special math functions used in statistics, and OS assisted features like hardware interference size. In many cases these can be “poly filled”\n   Compiler C++17 (language full) C++17 (language 90%) Missing C++17 (library full) C++17 (library 90%) Missing     GCC/libstdc++ 7 7 N/A 12 9 “elementary string conversions” (P0067R5),   Clang/libc++ 4 4 N/A No 17 parallel algoirthms, hardware interference size, special math functions    C++20 C++20 language features are not not fully implemented in even the newest compilers. The biggest holdout is modules and features like consteval. C++20 library features are even more sparsely implemented, but are now fully implemented in GCC 14 starting to be available in “cutting edge distros” such as Fedora.\n   Compiler C++20 (language full) C++20 (language 90%) Missing C++20 (library full) C++20 (library 90%) Missing     GCC/libstdc++ 11* 10 Only partial support for Modules add in 11, using enum, operator(...)=default, consteval 14 11 calendar, text formatting, atomics   Clang/libc++ No 17 Modules, Coroutines, Non-type template parameters No No atomics, source location, operator    It is too early to start looking at C++23 compiler conformance.\nCMake Every major non-EoL distribution supports at least CMake 3.16. If you need to do things with CUDA try to stick to CMake 3.20 or newer which has much more robust support for GPU programs which is available on all distributions except CentOS7. 3.25 is needed for cuFILE APIs which is only available on more cutting edge distros.\n 3.10 Added flang,ccachefor Ninja, GoogleTestgtest_discover_tests()` 3.11 Added add_library without sources, FindDoxygen, ` 3.12 Added cmake --build, _ROOT for find_package, many improvements to FindSwig 3.13 Added cmake -S ... -B ... to set source and build dirs, target_link_libraries can now be called on targets from different directories., more improvements to Swig 3.14 Added get_filename_component(), install(FILES)/install(DIRECTORIES) now uses GNUInstallDirs by default, FtechContent_MakeAvailable(), numpy support in FindPython 3.15 Improved Python lookups and Python3::Module, $ with a single language, 3.16 Added support for unity builds 3.17 Added Ninja multi-config, CMAKE_FIND_DEBUG_MODE, FindCUDAToolkit, 3.18 add_library can now create Alias targets (useful for FetchContent), CMAKE_CUDA_ARCHITECTURES, FindLapack imported target, improvements to GoogleTest test discovery 3.19 Apple Silicon, CheckCompilerFlag generalizes C/C++ specific versions 3.20 CUDAARCHES environment variable added, Nvidia HPC SDK, OneAPI compilers, improved FindCudaToolkit with ccache, better implicit dependencies. 3.21 cmake-presets, Fujitsu compiler 3.22 CMAKE_BULID_TYPE default variable 3.23 improvements to presets, HEADER_SETS for IDE integration, many improvements to CUDA seperate compilation 3.24 improvements to presets, CMAKE_CUDA_ARCHITECTURES=native, fetch content can now try find_package first 3.25 improvements to presets, block scoping, try_compile doesn’t need a binary directory, cufile 3.26 imagemagick imported targets, Python “Stable ABI” targets 3.27 Cuda Object libraries, FindDoxygen config file support, FindCUDA (old and deprecated) removed 3.28 Cmake modules support is stable but not supported compilers until GCC 14 and LLVM 16 and using the Ninja generator, CMAKE_HIP_PLATFORM to compile hip code using Nvidia GPUs, CrayClang, many commands became JOB_SEVER_AWARE to better support nested builds.  Swig Swig 3 is widely available, but Swig 4 is not – try to avoid C++14 in swig wrapped interfaces.\n 4.0 Added C++11 STL container support to Python, and better support for C++14 code 3.0 Added C++11 language support  Cuda CUDA places requirements on your GCC/clang version, but also places requirements on supported hardware. This note has much more detail.\nWhen using NVCC:\n   cuda version max gcc sm versions     8.1 5.3 2-6.x   9.1 6 4-7.2   11.5 11 3.5-8.6   12.0 12.1 4-9   12.1-3 12.2 4-9    It is also possible to use clang++ to compile cuda\n   clang version cuda release sm versions     6 7-9 3-7.0   10 7-10.1 3-7.5   14 7-11.0 3-8.0   15 7-11.5 3-8.6   16 7-11.8 3-9.0    In newer versions of cuda, this command outputs your compute version.\nnvidia-smi --query-gpu=compute_cap --format=csv Python For widest compatibility, avoid features newer than 3.6, however when CentOS7 is EoL, 3.8 is the next lowest common denominator.\n 3.6 Added fstrings, types for variables, async generators, PYTHONMALLOC and more. 3.7 Added breakpoint(), @dataclass, time.perf_counter_ns() and more 3.8 Added := operator, position only parameters, fstring {var=} syntax, and more 3.9 Added | for dict, list instead of List in types, and is much faster and more 3.10 Added match pattern matching, parenthesized context managers, type | operator, and more 3.11 Added exception groups, tomllib, variatic generics, Self type, string literal type, is much faster and more 3.12 Added Path.walk, improved f-strings, type alias, sys.monitoring, collections.abc.Buffer  Manylinux Python’s pip uses manylinux containers to provide broadly compatible binaries for use with python. Until CentOS7 is end of life, consider building a manylinux2014 based build if possible.\n   Version GCC Python Base     manylinux_2_28 12 3.8.10+, 3.9.5+, 3.10.0+ Almalinux 8   manylinux2014/manylinux_2_17 10 3.7.8+, 3.8.4+, 3.9.0+ CentOS 7    PEP 599 defines manylinux2014 and I expect this will be end of life when CentOS7 that it is based on does. PEP 600 defines manylinux_x_y where x==glibc_major version, y==glibc_minor_version. There are docker containers that provide build envionments for these packages that should be preferred. One should also check the auditwheel command to ensure that the compiled library does not link to a disallowed library.\nJulia Generally Julia installations will be relatively new since they are often not provided by the package manager. There have been significant reductions in time to first plot in recent versions\n 1.5 threading, @ccall 1.6 various quality of life improvements 1.7 property destructuring, @atomic, reproducible RNG, libblastrampoline 1.8 const on fields in mutable structs, SIGUSR1 profiling 1.9 :interactive threads, jl_adopt_thread, Iterators.flatmap, Package Extensions  Hope this helps!\nChangelog  2024-02-22: added python and cuda and updated cmake 2023-09-12: Created  ","wordCount":"1303","inLanguage":"en","datePublished":"2023-09-12T00:00:00Z","dateModified":"2023-09-12T00:00:00Z","author":{"@type":"Person","name":"Robert Underwood"},"mainEntityOfPage":{"@type":"WebPage","@id":"http://robertu94.github.io/guides/dependencies.html"},"publisher":{"@type":"Organization","name":"systems++","logo":{"@type":"ImageObject","url":"http://robertu94.github.io/favicon.ico"}}}</script>
</head>
<body id=top>
<script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script>
<header class=header>
<nav class=nav>
<div class=logo>
<a href=http://robertu94.github.io/ accesskey=h title="systems++ (Alt + H)">systems++</a>
<div class=logo-switches>
<button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
</button>
</div>
</div>
<ul id=menu>
<li>
<a href=http://robertu94.github.io/about.html title="About Me">
<span>About Me</span>
</a>
</li>
<li>
<a href=http://robertu94.github.io/guides.html title=Guides>
<span>Guides</span>
</a>
</li>
<li>
<a href=http://robertu94.github.io/learning.html title="Learning To Learn">
<span>Learning To Learn</span>
</a>
</li>
<li>
<a href=http://robertu94.github.io/presentations.html title=Presentations>
<span>Presentations</span>
</a>
</li>
</ul>
</nav>
</header>
<main class=main>
<article class=post-single>
<header class=post-header>
<div class=breadcrumbs><a href=http://robertu94.github.io/>Home</a></div>
<h1 class=post-title>
What to support if you are supporting
</h1>
<div class=post-meta><span title="2023-09-12 00:00:00 +0000 UTC">September 12, 2023</span>&nbsp;·&nbsp;7 min&nbsp;·&nbsp;1303 words&nbsp;·&nbsp;Robert Underwood
</div>
</header> <div class=toc>
<details>
<summary accesskey=c title="(Alt + C)">
<span class=details>Table of Contents</span>
</summary>
<div class=inner><nav id=TableOfContents>
<ul>
<li><a href=#major-linux-distros>Major Linux Distros</a></li>
<li><a href=#tooling-versions>Tooling Versions</a></li>
<li><a href=#language-features>Language Features</a>
<ul>
<li><a href=#c>C++</a>
<ul>
<li><a href=#c14>C++14</a></li>
<li><a href=#c17>C++17</a></li>
<li><a href=#c20>C++20</a></li>
<li><a href=#cmake>CMake</a></li>
<li><a href=#swig>Swig</a></li>
<li><a href=#cuda>Cuda</a></li>
</ul>
</li>
<li><a href=#python>Python</a>
<ul>
<li><a href=#manylinux>Manylinux</a></li>
</ul>
</li>
<li><a href=#julia>Julia</a></li>
</ul>
</li>
<li><a href=#changelog>Changelog</a></li>
</ul>
</nav>
</div>
</details>
</div>
<div class=post-content><p>Dependencies matter a lot in terms of who can easily install and use your software.
However there are trade-offs in what features are provided by each version and the availability of these versions.
This presents an opinionated take on what these trade-offs are so one can know what can be widely supported.</p>
<p>Last update: 2023-09-12</p>
<h1 id=major-linux-distros>Major Linux Distros<a hidden class=anchor aria-hidden=true href=#major-linux-distros>#</a></h1>
<table>
<thead>
<tr>
<th>Distro</th>
<th>Standard EoL</th>
</tr>
</thead>
<tbody>
<tr>
<td>CentOS-7 compatible</td>
<td>July 2024</td>
</tr>
<tr>
<td>CentOS-8 compatible</td>
<td>December 2021<code>*</code></td>
</tr>
<tr>
<td>CentOS-8 stream</td>
<td>May 2024</td>
</tr>
<tr>
<td>CentOS-9 stream</td>
<td>May 2027<code>*</code></td>
</tr>
<tr>
<td>Ubuntu 16.04</td>
<td>April 2021</td>
</tr>
<tr>
<td>Ubuntu 18.04</td>
<td>April 2023</td>
</tr>
<tr>
<td>Ubuntu 20.04</td>
<td>April 2025</td>
</tr>
<tr>
<td>Ubuntu 22.04</td>
<td>April 2027</td>
</tr>
</tbody>
</table>
<ul>
<li>Ubuntu LTS releases generally get 5 years of standard support</li>
<li>Fedora releases generally get ~1 year of support</li>
<li><code>*</code> Third party vendors such as AlmaLinux support these for much longer 2029 for CentOS-8, and 2032 for CentOS-9.</li>
</ul>
<h1 id=tooling-versions>Tooling Versions<a hidden class=anchor aria-hidden=true href=#tooling-versions>#</a></h1>
<table>
<thead>
<tr>
<th>Tool</th>
<th>Ubuntu 18.04</th>
<th>Ubuntu 20.04</th>
<th>Ubuntu 22.04</th>
<th>CentOS 7</th>
<th>CentOS 8</th>
<th>CentOS 9 Stream</th>
<th>Fedora</th>
</tr>
</thead>
<tbody>
<tr>
<td>gcc</td>
<td>7.5.0</td>
<td>9.4.0</td>
<td>11.4.0</td>
<td>4.8.5</td>
<td>8.5.0</td>
<td>11.3</td>
<td>13</td>
</tr>
<tr>
<td>clang</td>
<td>6.0.0</td>
<td>10.0.0</td>
<td>14.0.0</td>
<td>3.4.2</td>
<td>15.0.0</td>
<td>16.0</td>
<td>16</td>
</tr>
<tr>
<td>cmake</td>
<td>3.10.2</td>
<td>3.16.3</td>
<td>3.22.1</td>
<td>3.17.5</td>
<td>3.20</td>
<td>3.20</td>
<td>3.27</td>
</tr>
<tr>
<td>python3</td>
<td>3.6.9</td>
<td>3.8.10</td>
<td>3.10.0</td>
<td>3.6.8</td>
<td>3.6-3.9</td>
<td>3.9,3.11</td>
<td>3.11</td>
</tr>
<tr>
<td>julia</td>
<td>n/a</td>
<td>1.4.1<code>#</code></td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td>
<td>1.9.2</td>
</tr>
<tr>
<td>cargo</td>
<td>1.65.0</td>
<td>1.66.1</td>
<td>1.66.1</td>
<td>1.72.0</td>
<td>1.66.1</td>
<td>1.61.1</td>
<td>1.72.0</td>
</tr>
<tr>
<td>swig</td>
<td>1.65.0</td>
<td>4.0</td>
<td>4.0</td>
<td>3.0.12</td>
<td>3.0.12</td>
<td>3.0.12</td>
<td>4.1.1</td>
</tr>
<tr>
<td>nvcc <code>*</code></td>
<td>9.1</td>
<td>10.1</td>
<td>11.5.0</td>
<td>n/a<code>*</code></td>
<td>n/a <code>*</code></td>
<td>n/a <code>*</code></td>
<td>n/a <code>*</code></td>
</tr>
</tbody>
</table>
<p><code>#</code> has known issues and upstream <a href=https://old.reddit.com/r/Julia/comments/ubdva0/what_happened_to_julia_on_ubuntu_2204_repos/i65xf8n/>recommends avoiding using this version</a>
<code>*</code> CentOS, and Fedora do not package CUDA themselves, but instead rely on Nvidia to provide the package which provides the newest version.</p>
<h1 id=language-features>Language Features<a hidden class=anchor aria-hidden=true href=#language-features>#</a></h1>
<h2 id=c>C++<a hidden class=anchor aria-hidden=true href=#c>#</a></h2>
<p>For more information consult <a href=https://cppreference.com>cppreference.com</a>
C++ is divided into language and library features. Generally Language features are implemented before library features.
While Clang originally led for compliance, increassingly GCC is getting newer features sooner.</p>
<h3 id=c14>C++14<a hidden class=anchor aria-hidden=true href=#c14>#</a></h3>
<p>Generally C++14 language features can be used safely on all but the oldest systems (e.g. CentOS7).
With one minor exception, C++14 library features can be used on all but the oldest systems (e.g. CentOS7), but complete support requires a much newer version for GCC.</p>
<table>
<thead>
<tr>
<th>Compiler</th>
<th>C++14 (language full)</th>
<th>C++14 (language 90%)</th>
<th>Missing</th>
<th>C++14 (library full)</th>
<th>C++14 (library 90%)</th>
<th>Missing</th>
</tr>
</thead>
<tbody>
<tr>
<td>GCC/libstdc++</td>
<td>5</td>
<td>5</td>
<td>N/A</td>
<td>10</td>
<td>5</td>
<td>partial support for null forward iterators (N3644)</td>
</tr>
<tr>
<td>Clang/libc++</td>
<td>3.4</td>
<td>3.4</td>
<td>N/A</td>
<td>3.4</td>
<td>3.4</td>
<td>N/A</td>
</tr>
</tbody>
</table>
<h3 id=c17>C++17<a hidden class=anchor aria-hidden=true href=#c17>#</a></h3>
<p>Generally C++17 language features are supported on all but the oldest systems (e.g. CentOS7).
C++17 library features require very new compilers to implement fully and are not widely available on LTS systems. The most common things to lag behind being parallel parallel algorithms, so-called special math functions used in statistics, and OS assisted features like hardware interference size. In many cases these can be &ldquo;poly filled&rdquo;</p>
<table>
<thead>
<tr>
<th>Compiler</th>
<th>C++17 (language full)</th>
<th>C++17 (language 90%)</th>
<th>Missing</th>
<th>C++17 (library full)</th>
<th>C++17 (library 90%)</th>
<th>Missing</th>
</tr>
</thead>
<tbody>
<tr>
<td>GCC/libstdc++</td>
<td>7</td>
<td>7</td>
<td>N/A</td>
<td>12</td>
<td>9</td>
<td>&ldquo;elementary string conversions&rdquo; (P0067R5),</td>
</tr>
<tr>
<td>Clang/libc++</td>
<td>4</td>
<td>4</td>
<td>N/A</td>
<td>No</td>
<td>17</td>
<td>parallel algoirthms, hardware interference size, special math functions</td>
</tr>
</tbody>
</table>
<h3 id=c20>C++20<a hidden class=anchor aria-hidden=true href=#c20>#</a></h3>
<p>C++20 language features are not not fully implemented in even the newest compilers. The biggest holdout is modules and features like consteval.
C++20 library features are even more sparsely implemented, but are now fully implemented in GCC 14 starting to be available in &ldquo;cutting edge distros&rdquo; such as Fedora.</p>
<table>
<thead>
<tr>
<th>Compiler</th>
<th>C++20 (language full)</th>
<th>C++20 (language 90%)</th>
<th>Missing</th>
<th>C++20 (library full)</th>
<th>C++20 (library 90%)</th>
<th>Missing</th>
</tr>
</thead>
<tbody>
<tr>
<td>GCC/libstdc++</td>
<td>11<code>*</code></td>
<td>10</td>
<td>Only partial support for Modules add in 11, using enum, <code>operator&lt;=>(...)=default</code>, consteval</td>
<td>14</td>
<td>11</td>
<td><code>calendar</code>, text formatting, atomics</td>
</tr>
<tr>
<td>Clang/libc++</td>
<td>No</td>
<td>17</td>
<td>Modules, Coroutines, Non-type template parameters</td>
<td>No</td>
<td>No</td>
<td>atomics, source location, <code>operator&lt;=></code></td>
</tr>
</tbody>
</table>
<p>It is too early to start looking at C++23 compiler conformance.</p>
<h3 id=cmake>CMake<a hidden class=anchor aria-hidden=true href=#cmake>#</a></h3>
<p>Every major non-EoL distribution supports at least CMake 3.16.
If you need to do things with CUDA try to stick to CMake 3.20 or newer which has much more robust support for GPU programs which is available on all distributions except CentOS7.
3.25 is needed for cuFILE APIs which is only available on more cutting edge distros.</p>
<ul>
<li><strong>3.10</strong> Added <code>flang,</code>ccache<code>for Ninja, GoogleTest</code>gtest_discover_tests()`</li>
<li><strong>3.11</strong> Added <code>add_library</code> without sources, <code>FindDoxygen</code>, `</li>
<li><strong>3.12</strong> Added <code>cmake --build</code>, <code>&lt;PackageName>_ROOT</code> for <code>find_package</code>, many improvements to <code>FindSwig</code></li>
<li><strong>3.13</strong> Added <code>cmake -S ... -B ...</code> to set source and build dirs, <code>target_link_libraries</code> can now be called on targets from different directories., more improvements to <code>Swig</code></li>
<li><strong>3.14</strong> Added <code>get_filename_component()</code>, <code>install(FILES)</code>/<code>install(DIRECTORIES)</code> now uses GNUInstallDirs by default, <code>FtechContent_MakeAvailable()</code>, numpy support in <code>FindPython</code></li>
<li><strong>3.15</strong> Improved Python lookups and <code>Python3::Module</code>, <code>$&lt;COMPILE_LANGUAGE:></code> with a single language,</li>
<li><strong>3.16</strong> Added support for unity builds</li>
<li><strong>3.17</strong> Added Ninja multi-config, <code>CMAKE_FIND_DEBUG_MODE</code>, <code>FindCUDAToolkit</code>,</li>
<li><strong>3.18</strong> <code>add_library</code> can now create Alias targets (useful for FetchContent), <code>CMAKE_CUDA_ARCHITECTURES</code>, FindLapack imported target, improvements to GoogleTest test discovery</li>
<li><strong>3.19</strong> Apple Silicon, <code>CheckCompilerFlag</code> generalizes C/C++ specific versions</li>
<li><strong>3.20</strong> <code>CUDAARCHES</code> environment variable added, Nvidia HPC SDK, OneAPI compilers, improved FindCudaToolkit with ccache, better implicit dependencies.</li>
<li><strong>3.21</strong> cmake-presets, Fujitsu compiler</li>
<li><strong>3.22</strong> <code>CMAKE_BULID_TYPE</code> default variable</li>
<li><strong>3.23</strong> improvements to presets, <code>HEADER_SETS</code> for IDE integration, many improvements to CUDA seperate compilation</li>
<li><strong>3.24</strong> improvements to presets, <code>CMAKE_CUDA_ARCHITECTURES=native</code>, fetch content can now try find_package first</li>
<li><strong>3.25</strong> improvements to presets, <code>block</code> scoping, try_compile doesn&rsquo;t need a binary directory, cufile</li>
<li><strong>3.26</strong> imagemagick imported targets, Python &ldquo;Stable ABI&rdquo; targets</li>
<li><strong>3.27</strong> Cuda Object libraries, FindDoxygen config file support, FindCUDA (old and deprecated) removed</li>
<li><strong>3.28</strong> Cmake modules support is stable but not supported compilers until GCC 14 and LLVM 16 and using the Ninja generator, CMAKE_HIP_PLATFORM to compile hip code using Nvidia GPUs, CrayClang, many commands became <code>JOB_SEVER_AWARE</code> to better support nested builds.</li>
</ul>
<h3 id=swig>Swig<a hidden class=anchor aria-hidden=true href=#swig>#</a></h3>
<p>Swig 3 is widely available, but Swig 4 is not &ndash; try to avoid C++14 in swig wrapped interfaces.</p>
<ul>
<li><strong>4.0</strong> Added C++11 STL container support to Python, and better support for C++14 code</li>
<li><strong>3.0</strong> Added C++11 language support</li>
</ul>
<h3 id=cuda>Cuda<a hidden class=anchor aria-hidden=true href=#cuda>#</a></h3>
<p>CUDA places requirements on your GCC/clang version, but also places requirements on supported hardware.
This <a href=https://gist.github.com/ax3l/9489132>note has much more detail</a>.</p>
<p>When using NVCC:</p>
<table>
<thead>
<tr>
<th>cuda version</th>
<th>max gcc</th>
<th>sm versions</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>8.1</strong></td>
<td>5.3</td>
<td>2-6.x</td>
</tr>
<tr>
<td><strong>9.1</strong></td>
<td>6</td>
<td>4-7.2</td>
</tr>
<tr>
<td><strong>11.5</strong></td>
<td>11</td>
<td>3.5-8.6</td>
</tr>
<tr>
<td><strong>12.0</strong></td>
<td>12.1</td>
<td>4-9</td>
</tr>
<tr>
<td><strong>12.1-3</strong></td>
<td>12.2</td>
<td>4-9</td>
</tr>
</tbody>
</table>
<p>It is also possible to use clang++ to compile cuda</p>
<table>
<thead>
<tr>
<th>clang version</th>
<th>cuda release</th>
<th>sm versions</th>
</tr>
</thead>
<tbody>
<tr>
<td>6</td>
<td>7-9</td>
<td>3-7.0</td>
</tr>
<tr>
<td>10</td>
<td>7-10.1</td>
<td>3-7.5</td>
</tr>
<tr>
<td>14</td>
<td>7-11.0</td>
<td>3-8.0</td>
</tr>
<tr>
<td>15</td>
<td>7-11.5</td>
<td>3-8.6</td>
</tr>
<tr>
<td>16</td>
<td>7-11.8</td>
<td>3-9.0</td>
</tr>
</tbody>
</table>
<p>In newer versions of cuda, this command outputs your compute version.</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash>nvidia-smi --query-gpu<span class=o>=</span>compute_cap --format<span class=o>=</span>csv
</code></pre></div><h2 id=python>Python<a hidden class=anchor aria-hidden=true href=#python>#</a></h2>
<p>For widest compatibility, avoid features newer than 3.6, however when CentOS7 is EoL, 3.8 is the next lowest common denominator.</p>
<ul>
<li><strong>3.6</strong> Added <code>fstring</code>s, types for variables, async generators, <code>PYTHONMALLOC</code> and more.</li>
<li><strong>3.7</strong> Added <code>breakpoint()</code>, <code>@dataclass</code>, <code>time.perf_counter_ns()</code> and more</li>
<li><strong>3.8</strong> Added <code>:=</code> operator, position only parameters, fstring <code>{var=}</code> syntax, and more</li>
<li><strong>3.9</strong> Added <code>|</code> for <code>dict</code>, <code>list</code> instead of <code>List</code> in types, and is much faster and more</li>
<li><strong>3.10</strong> Added <code>match</code> pattern matching, parenthesized context managers, type <code>|</code> operator, and more</li>
<li><strong>3.11</strong> Added exception groups, tomllib, variatic generics, Self type, string literal type, is much faster and more</li>
<li><strong>3.12</strong> Added <code>Path.walk</code>, improved f-strings, type alias, <code>sys.monitoring</code>, <code>collections.abc.Buffer</code></li>
</ul>
<h3 id=manylinux>Manylinux<a hidden class=anchor aria-hidden=true href=#manylinux>#</a></h3>
<p>Python&rsquo;s pip uses <code>manylinux</code> containers to provide broadly compatible binaries for use with python.
Until CentOS7 is end of life, consider building a manylinux2014 based build if possible.</p>
<table>
<thead>
<tr>
<th>Version</th>
<th>GCC</th>
<th>Python</th>
<th>Base</th>
</tr>
</thead>
<tbody>
<tr>
<td>manylinux_2_28</td>
<td>12</td>
<td>3.8.10+, 3.9.5+, 3.10.0+</td>
<td>Almalinux 8</td>
</tr>
<tr>
<td>manylinux2014/manylinux_2_17</td>
<td>10</td>
<td>3.7.8+, 3.8.4+, 3.9.0+</td>
<td>CentOS 7</td>
</tr>
</tbody>
</table>
<p>PEP 599 defines manylinux2014 and I expect this will be end of life when CentOS7 that it is based on does.
PEP 600 defines manylinux_x_y where x==glibc_major version, y==glibc_minor_version.
There are docker containers that provide build envionments for these packages that should be preferred.
One should also check the <code>auditwheel</code> command to ensure that the compiled library does not link to a disallowed library.</p>
<h2 id=julia>Julia<a hidden class=anchor aria-hidden=true href=#julia>#</a></h2>
<p>Generally Julia installations will be relatively new since they are often not provided by the package manager.
There have been significant reductions in time to first plot in recent versions</p>
<ul>
<li><strong>1.5</strong> threading, <code>@ccall</code></li>
<li><strong>1.6</strong> various quality of life improvements</li>
<li><strong>1.7</strong> property destructuring, <code>@atomic</code>, reproducible RNG, libblastrampoline</li>
<li><strong>1.8</strong> const on fields in mutable structs, <code>SIGUSR1</code> profiling</li>
<li><strong>1.9</strong> <code>:interactive</code> threads, <code>jl_adopt_thread</code>, <code>Iterators.flatmap</code>, Package Extensions</li>
</ul>
<p>Hope this helps!</p>
<h1 id=changelog>Changelog<a hidden class=anchor aria-hidden=true href=#changelog>#</a></h1>
<ul>
<li>2024-02-22: added python and cuda and updated cmake</li>
<li>2023-09-12: Created</li>
</ul>
</div>
<footer class=post-footer>
<ul class=post-tags>
</ul>
</footer>
</article>
</main>
<footer class=footer>
<span>&copy; 2024 <a href=http://robertu94.github.io/>systems++</a></span>
<span>
Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a>
</span>
</footer>
<a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a>
<script>let menu=document.getElementById('menu');menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script>
<script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script>
<script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script>
</body>
</html>