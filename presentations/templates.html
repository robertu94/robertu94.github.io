<!doctype html><html lang=en dir=auto>
<head><meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=robots content="index, follow">
<title>C++ Templates: Starring into the Abyss | systems++</title>
<meta name=keywords content>
<meta name=description content="C++ templates are one of the most powerful, and probably least understood aspects of C++ programming. Trying to understand error messages from templates code can feel like staring into the abyss. In this talk, I introduce many of the various features and dive into applications of C++ templates that are used in the wild. I will cover several of the common pitfalls and design patterns that result from this feature of C++. I will also stare right into the heart of the abyss and explain why the error messages can be cryptic, why its a good thing, and how to begin to decipher those error messages.">
<meta name=author content="Robert Underwood">
<link rel=canonical href=http://robertu94.github.io/presentations/templates.html>
<meta name=google-site-verification content="G-9KQE44SX6K">
<link crossorigin=anonymous href=/assets/css/stylesheet.bc1149f4a72aa4858d3a9f71462f75e5884ffe8073ea9d6d5761d5663d651e20.css integrity="sha256-vBFJ9KcqpIWNOp9xRi915YhP/oBz6p1tV2HVZj1lHiA=" rel="preload stylesheet" as=style>
<script defer crossorigin=anonymous src=/assets/js/highlight.baa4f2053c75d0009e9309aae8f8a8959f5e0372e88f80cdf2951a9533d71ce2.js integrity="sha256-uqTyBTx10ACekwmq6PiolZ9eA3Loj4DN8pUalTPXHOI=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=http://robertu94.github.io/favicon.ico>
<link rel=icon type=image/png sizes=16x16 href=http://robertu94.github.io/favicon-16x16.png>
<link rel=icon type=image/png sizes=32x32 href=http://robertu94.github.io/favicon-32x32.png>
<link rel=apple-touch-icon href=http://robertu94.github.io/apple-touch-icon.png>
<link rel=mask-icon href=http://robertu94.github.io/safari-pinned-tab.svg>
<meta name=theme-color content="#2e2e33">
<meta name=msapplication-TileColor content="#2e2e33">
<noscript>
<style>#theme-toggle,.top-link{display:none}</style>
<style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style>
</noscript>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9KQE44SX6K"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-9KQE44SX6K',{anonymize_ip:!1})}</script>
<meta property="og:title" content="C++ Templates: Starring into the Abyss">
<meta property="og:description" content="C++ templates are one of the most powerful, and probably least understood aspects of C++ programming. Trying to understand error messages from templates code can feel like staring into the abyss. In this talk, I introduce many of the various features and dive into applications of C++ templates that are used in the wild. I will cover several of the common pitfalls and design patterns that result from this feature of C++. I will also stare right into the heart of the abyss and explain why the error messages can be cryptic, why its a good thing, and how to begin to decipher those error messages.">
<meta property="og:type" content="article">
<meta property="og:url" content="http://robertu94.github.io/presentations/templates.html"><meta property="article:section" content="presentations">
<meta property="article:published_time" content="2017-08-01T00:00:00+00:00">
<meta property="article:modified_time" content="2017-08-01T00:00:00+00:00"><meta property="og:site_name" content="Systems++">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="C++ Templates: Starring into the Abyss">
<meta name=twitter:description content="C++ templates are one of the most powerful, and probably least understood aspects of C++ programming. Trying to understand error messages from templates code can feel like staring into the abyss. In this talk, I introduce many of the various features and dive into applications of C++ templates that are used in the wild. I will cover several of the common pitfalls and design patterns that result from this feature of C++. I will also stare right into the heart of the abyss and explain why the error messages can be cryptic, why its a good thing, and how to begin to decipher those error messages.">
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"C++ Templates: Starring into the Abyss","item":"http://robertu94.github.io/presentations/templates.html"}]}</script>
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"C++ Templates: Starring into the Abyss","name":"C\u002b\u002b Templates: Starring into the Abyss","description":"C++ templates are one of the most powerful, and probably least understood aspects of C++ programming. Trying to understand error messages from templates code can feel like staring into the abyss. In this talk, I introduce many of the various features and dive into applications of C++ templates that are used in the wild. I will cover several of the common pitfalls and design patterns that result from this feature of C++. I will also stare right into the heart of the abyss and explain why the error messages can be cryptic, why its a good thing, and how to begin to decipher those error messages.","keywords":[],"articleBody":"C++ Templates Staring into the abyss\nRobert Underwood\n Overview Why templates? Basics Template Methods Templates with Polymorphism Classes vs Functions  Applications Trait Specialization and Policies Template Meta-programming Tuples Functors Other Uses    Warning Here be dragons!\n Why templates?  Generics – code that accepts any type Performance – type specific implementation Code Reuse – let the compile do the writing    Basics  What are they?  Allows you to:  delay binding of type to variables write generic code of some type T trades code size for binary size (and readability?)    Template Methods  Will deduce but not coerce types They can be overloaded   Classes vs Functions  Functions have type deduction Classes/Structs have partial specialization At least for now…   Templates with Polymorphism  If possible,  Put only template methods in a template class Each expansion takes space in the binary Each expansion increases compile time    Variadic Templates  Templates of many arguments Use overloading to handle recursion   SFINAE  Substitution Failure is not an Error\n  A blessing and a curse  Almost incomprehensible error messages Allows overloading and “compile-time reflection”  Reflection – change behavior on class attribute/methods      Applications  Trait Specialization and Policies  Select an algorithm/behavior through:  reflection on types template arguments  Implementations vary  SFINAE-based – more flexible, harder to implement Specialization-base – less flexible, almost trivial    Template Meta-programming  Solve a recursive problem at compile time often inline, beware template recursion depth   Tuples  collections of types very similar to a struct can be expanded and passed as function arguments can be used to extract variables via std::tie   Functors  Accept a function as argument Write functional paradigm code  Easier to parallelize Easier to reason about    Other Uses  Smart Pointers Iterator Generics Curiously Recurring Template Pattern Parameterized Type Attributes Generic implementations of Design Patterns   Further Reading  Many of concepts are found  C++ Templates: The Complete Guide Modern C++ Design    Questions Send us feedback at rr.underwood94@gmail.com!\nThis material available under CC By-SA 4.0\n ","wordCount":"309","inLanguage":"en","datePublished":"2017-08-01T00:00:00Z","dateModified":"2017-08-01T00:00:00Z","author":{"@type":"Person","name":"Robert Underwood"},"mainEntityOfPage":{"@type":"WebPage","@id":"http://robertu94.github.io/presentations/templates.html"},"publisher":{"@type":"Organization","name":"systems++","logo":{"@type":"ImageObject","url":"http://robertu94.github.io/favicon.ico"}}}</script>
</head>
<body id=top>
<script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script>
<header class=header>
<nav class=nav>
<div class=logo>
<a href=http://robertu94.github.io/ accesskey=h title="systems++ (Alt + H)">systems++</a>
<div class=logo-switches>
<button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
</button>
</div>
</div>
<ul id=menu>
<li>
<a href=http://robertu94.github.io/about.html title="About Me">
<span>About Me</span>
</a>
</li>
<li>
<a href=http://robertu94.github.io/guides.html title=Guides>
<span>Guides</span>
</a>
</li>
<li>
<a href=http://robertu94.github.io/learning.html title="Learning To Learn">
<span>Learning To Learn</span>
</a>
</li>
<li>
<a href=http://robertu94.github.io/presentations.html title=Presentations>
<span>Presentations</span>
</a>
</li>
</ul>
</nav>
</header>
<main class=main>
<div class=reveal>
<div class=slides>
testing
<section id=c-templates class="title-slide slide level1">
<h1>C++ Templates</h1>
<p>Staring into the abyss</p>
<p>Robert Underwood</p>
</section>
<section id=overview class="title-slide slide level1">
<h1>Overview</h1>
<ol type=1>
<li>Why templates?</li>
<li>Basics
<ol type=1>
<li>Template Methods</li>
<li>Templates with Polymorphism</li>
<li>Classes vs Functions</li>
</ol></li>
<li>Applications
<ol type=1>
<li>Trait Specialization and Policies</li>
<li>Template Meta-programming</li>
<li>Tuples</li>
<li>Functors</li>
<li>Other Uses</li>
</ol></li>
</ol>
</section>
<section id=warning class="title-slide slide level1">
<h1>Warning</h1>
<p>Here be dragons!</p>
</section>
<section id=why-templates class="title-slide slide level1">
<h1>Why templates?</h1>
<ul>
<li>Generics – code that accepts any type</li>
<li>Performance – type specific implementation</li>
<li>Code Reuse – let the compile do the writing</li>
</ul>
</section>
<section>
<section id=basics class="title-slide slide level1">
<h1>Basics</h1>
</section>
<section id=what-are-they class="slide level2">
<h2>What are they?</h2>
<ul>
<li>Allows you to:
<ul>
<li>delay binding of type to variables</li>
<li>write generic code of some type T</li>
<li>trades code size for binary size (and readability?)</li>
</ul></li>
</ul>
</section>
<section id=template-methods class="slide level2">
<h2>Template Methods</h2>
<ul>
<li>Will deduce but not coerce types</li>
<li>They can be overloaded</li>
</ul>
</section>
<section id=classes-vs-functions class="slide level2">
<h2>Classes vs Functions</h2>
<ul>
<li>Functions have type deduction</li>
<li>Classes/Structs have partial specialization</li>
<li>At least for now…</li>
</ul>
</section>
<section id=templates-with-polymorphism class="slide level2">
<h2>Templates with Polymorphism</h2>
<ul>
<li>If possible,
<ul>
<li>Put only template methods in a template class</li>
<li>Each expansion takes space in the binary</li>
<li>Each expansion increases compile time</li>
</ul></li>
</ul>
</section>
<section id=variadic-templates class="slide level2">
<h2>Variadic Templates</h2>
<ul>
<li>Templates of many arguments</li>
<li>Use overloading to handle recursion</li>
</ul>
</section>
<section id=sfinae class="slide level2">
<h2>SFINAE</h2>
<blockquote>
<p>Substitution Failure is not an Error</p>
</blockquote>
<ul>
<li>A blessing and a curse
<ul>
<li>Almost incomprehensible error messages</li>
<li>Allows overloading and “compile-time reflection”
<ul>
<li>Reflection – change behavior on class attribute/methods</li>
</ul></li>
</ul></li>
</ul>
</section></section>
<section>
<section id=applications class="title-slide slide level1">
<h1>Applications</h1>
</section>
<section id=trait-specialization-and-policies class="slide level2">
<h2>Trait Specialization and Policies</h2>
<ul>
<li>Select an algorithm/behavior through:
<ul>
<li>reflection on types</li>
<li>template arguments</li>
</ul></li>
<li>Implementations vary
<ul>
<li>SFINAE-based – more flexible, harder to implement</li>
<li>Specialization-base – less flexible, almost trivial</li>
</ul></li>
</ul>
</section>
<section id=template-meta-programming class="slide level2">
<h2>Template Meta-programming</h2>
<ul>
<li>Solve a recursive problem at compile time</li>
<li>often inline, beware template recursion depth</li>
</ul>
</section>
<section id=tuples class="slide level2">
<h2>Tuples</h2>
<ul>
<li>collections of types</li>
<li>very similar to a struct</li>
<li>can be expanded and passed as function arguments</li>
<li>can be used to extract variables via <code>std::tie</code></li>
</ul>
</section>
<section id=functors class="slide level2">
<h2>Functors</h2>
<ul>
<li>Accept a function as argument</li>
<li>Write functional paradigm code
<ul>
<li>Easier to parallelize</li>
<li>Easier to reason about</li>
</ul></li>
</ul>
</section>
<section id=other-uses class="slide level2">
<h2>Other Uses</h2>
<ul>
<li>Smart Pointers</li>
<li>Iterator Generics</li>
<li>Curiously Recurring Template Pattern</li>
<li>Parameterized Type Attributes</li>
<li>Generic implementations of Design Patterns</li>
</ul>
</section></section>
<section id=further-reading class="title-slide slide level1">
<h1>Further Reading</h1>
<ul>
<li>Many of concepts are found
<ul>
<li>C++ Templates: The Complete Guide</li>
<li>Modern C++ Design</li>
</ul></li>
</ul>
</section>
<section id=questions class="title-slide slide level1">
<h1>Questions</h1>
<p>Send us feedback at <a href=mailto:rr.underwood94@gmail.com class=email>rr.underwood94@gmail.com</a>!</p>
<p>This material available under <a href=http://creativecommons.org/licenses/by-sa/4.0/>CC By-SA 4.0</a></p>
</section>
</div>
</div>
</main>
<footer class=footer>
<span>&copy; 2023 <a href=http://robertu94.github.io/>systems++</a></span>
<span>
Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a>
</span>
</footer>
<a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a>
<script>let menu=document.getElementById('menu');menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script>
<script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script>
<script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script>
</body>
</html>